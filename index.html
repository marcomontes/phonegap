<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">

<html>
  <head>
    <meta name="viewport" content="width=device-width; height=device-height; user-scalable=no" />
    <meta http-equiv="Content-type" content="text/html; charset=utf-8">
    <title>MAP</title>
    <link rel="stylesheet" href="/master.css" type="text/css" media="screen" />
    <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=true"></script>
    <script type="text/javascript" src="cordova-2.7.0.js"></script>
    <script type="text/javascript">

      function onLoad() {
        document.addEventListener("deviceready", onDeviceReady, false);
      }

      function onDeviceReady() {
        navigator.geolocation.getCurrentPosition(onSuccess, onError,{'enableHighAccuracy':true,'timeout':10000});
      }

      //GEOLOCATION
      var onSuccess = function(position) {
        alert('Latitude: '  + position.coords.latitude   + '\n' + 'Longitude: ' + position.coords.longitude  + '\n');
        var myLat = position.coords.latitude;
        var myLong = position.coords.longitude;

        //MAP
        var mapOptions = {
          center: new google.maps.LatLng(myLat, myLong),
          zoom: 14,
          mapTypeId: google.maps.MapTypeId.ROADMAP
        };
        var map = new google.maps.Map(document.getElementById("map_canvas"), mapOptions);
      };

      // onError Callback receives a PositionError object
      //
      function onError(error) {
        alert('code: ' + error.code + '\n' + 'message: ' + error.message + '\n');
      }
    </script>
  </head>
  <body onload="onLoad()">
    <div id="map_canvas" style="width:400px; height:400px"></div>
  </body>
</html>
